<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Panel | GROSGO</title>
  <link rel="stylesheet" href="admin.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="admin-body">

  <!-- LOGIN -->
  <div id="adminLogin" class="admin-login">
    <h2><i class="fas fa-lock"></i> Admin Login</h2>
    <input id="adminEmail" type="email" placeholder="Email" value="admin@grosgo.com">
    <input id="adminPassword" type="password" placeholder="Password" value="admin123">
    <button onclick="adminLogin()"><i class="fas fa-sign-in-alt"></i> Login</button>
  </div>

  <!-- PANEL -->
  <div id="adminPanel" class="admin-panel" style="display:none">

    <!-- SIDEBAR -->
    <aside class="admin-sidebar">
      <div class="sidebar-header">
        <h2>ü•¨ GROSGO</h2>
      </div>
      <ul>
        <li onclick="showSection('dashboard')"><i class="fas fa-tachometer-alt"></i> Dashboard</li>
        <li onclick="showSection('orders')"><i class="fas fa-box"></i> Orders</li>
        <li onclick="showSection('products')"><i class="fas fa-shopping-bag"></i> Products</li>
        <li onclick="showSection('users')"><i class="fas fa-users"></i> Users</li>
        <li class="logout" onclick="adminLogout()"><i class="fas fa-sign-out-alt"></i> Logout</li>
      </ul>
    </aside>

    <!-- MAIN -->
    <main class="admin-main">

      <!-- DASHBOARD -->
      <section id="dashboard" class="admin-section">
        <div class="section-header">
          <h1><i class="fas fa-tachometer-alt"></i> Dashboard</h1>
          <button class="refresh-btn" onclick="loadDashboard()"><i class="fas fa-sync-alt"></i> Refresh</button>
        </div>

        <div class="admin-cards">
          <div class="admin-card">
            <i class="fas fa-users card-icon"></i>
            <div>
              <h3>Users</h3>
              <p id="totalUsers">0</p>
            </div>
          </div>
          <div class="admin-card">
            <i class="fas fa-box card-icon"></i>
            <div>
              <h3>Orders</h3>
              <p id="totalOrders">0</p>
            </div>
          </div>
          <div class="admin-card">
            <i class="fas fa-wallet card-icon"></i>
            <div>
              <h3>Revenue</h3>
              <p>‚Çπ<span id="totalRevenue">0</span></p>
            </div>
          </div>
          <div class="admin-card">
            <i class="fas fa-hourglass-half card-icon"></i>
            <div>
              <h3>Pending</h3>
              <p id="pendingOrders">0</p>
            </div>
          </div>
          <div class="admin-card">
            <i class="fas fa-cube card-icon"></i>
            <div>
              <h3>Products</h3>
              <p id="totalProducts">0</p>
            </div>
          </div>
        </div>

        <div class="chart-container">
          <canvas id="ordersChart"></canvas>
        </div>

        <!-- Recent orders preview -->
        <div class="recent-orders">
          <h3>Recent Orders</h3>
          <div id="recentOrdersList" class="order-preview"></div>
        </div>
      </section>

      <!-- ORDERS -->
      <section id="orders" class="admin-section" style="display:none">
        <div class="section-header">
          <h1><i class="fas fa-box"></i> Orders</h1>
          <button class="refresh-btn" onclick="loadOrders()"><i class="fas fa-sync-alt"></i> Refresh</button>
        </div>
        <div id="adminOrders" class="orders-container"></div>
      </section>

      <!-- PRODUCTS -->
      <section id="products" class="admin-section" style="display:none">
        <div class="section-header">
          <h1><i class="fas fa-shopping-bag"></i> Products</h1>
          <button class="refresh-btn" onclick="loadProducts()"><i class="fas fa-sync-alt"></i> Refresh</button>
        </div>

        <!-- Add/Edit Product Form -->
        <div class="product-form-card">
          <h3 id="formTitle">Add New Product</h3>
          <div class="product-form">
            <input type="text" id="pName" placeholder="Product Name">
            
            <select id="pCategory">
              <option value="">Select Category</option>
              <option value="Vegetables">Vegetables</option>
              <option value="Fruits">Fruits</option>
              <option value="Dairy">Dairy</option>
              <option value="Snacks">Snacks</option>
              <option value="Rice">Rice</option>
              <option value="Batter">Batter</option>
            </select>

            <select id="pHomeSection">
              <option value="">Home Section (optional)</option>
              <option value="offer">üî• Up to 50% Off</option>
              <option value="best_seller">‚≠ê Best Sellers</option>
              <option value="combo">üéÅ Special Combos</option>
              <option value="festival_combo">üéÅ Festival Combos</option>
              <option value="featured">üõí Featured</option>
            </select>

            <input type="number" id="pPrice" placeholder="Price (‚Çπ)" min="0" step="0.01">
            <input type="number" id="pStock" placeholder="Stock" min="0">
            <input type="url" id="pImage" placeholder="Image URL" onchange="previewImage()">

            <div class="image-preview">
              <img id="imagePreview" src="#" alt="Preview" style="display:none; max-width:100px; max-height:100px;">
            </div>

            <div class="form-actions">
              <button id="submitProductBtn" onclick="addProduct()"><i class="fas fa-plus"></i> Add Product</button>
              <button id="cancelEditBtn" class="cancel-btn" style="display:none;" onclick="cancelEdit()">Cancel</button>
            </div>
          </div>
        </div>

        <!-- Search & Filter -->
        <div class="search-bar">
          <i class="fas fa-search"></i>
          <input type="text" id="productSearch" placeholder="Search products..." onkeyup="filterProducts()">
        </div>

        <div id="adminProducts" class="products-grid"></div>
      </section>

      <!-- USERS -->
      <section id="users" class="admin-section" style="display:none">
        <div class="section-header">
          <h1><i class="fas fa-users"></i> Users</h1>
          <button class="refresh-btn" onclick="loadUsers()"><i class="fas fa-sync-alt"></i> Refresh</button>
        </div>

        <div class="search-bar">
          <i class="fas fa-search"></i>
          <input type="text" id="userSearch" placeholder="Search users..." onkeyup="filterUsers()">
        </div>

        <div id="adminUsers" class="users-list"></div>
      </section>
    </main>
  </div>

  <!-- Order Details Modal -->
  <div id="orderModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <h2>Order Details</h2>
      <div id="orderDetails"></div>
    </div>
  </div>

  <!-- Toast Notifications -->
  <div id="toast" class="toast"></div>

  <script src="admin.js"></script>
</body>
</html>